<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Configuraci√≥n del Asistente ‚Äì Comercio AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="comercioai.css">
  <link rel="icon" href="https://raw.githubusercontent.com/GOGOSCHNO/assistantai-site/refs/heads/main/images/favicon%20(2).png" type="image/x-icon">
</head>
<body>
  <div class="overlay">
    <header class="ca-header">
      <div class="ca-header-3col">
        <div class="ca-header-left">
          <a href="index.html" class="ca-logo-icon">
            <img src="https://raw.githubusercontent.com/GOGOSCHNO/assistantai-site/refs/heads/main/images/favicon%20(2).png" alt="Logo Cerveau">
          </a>
          <a href="index.html" class="ca-logo-text-img">
            <img src="https://raw.githubusercontent.com/GOGOSCHNO/bossassistantai/refs/heads/main/public/images/ComercioAI_logotexte%20sans%20fonds.png" alt="Logo ComercioAI">
          </a>
        </div>
        <nav class="ca-header-center" id="nav-center">
          <a href="precio.html" class="ca-btn nav-btn">Ver planes</a>
          <a href="dashboard.html" class="ca-btn ca-btn-primary">Dashboard</a>
        </nav>
        <div id="auth-buttons" class="ca-header-right"></div>
      </div>
    </header>

    <main>
      <div class="form-container">
        <h2>‚öôÔ∏è Configuraci√≥n del asistente</h2>
        
        <section id="seccion-informacion" class="form-step active">
          <h2>I. Informaci√≥n del Asistente</h2>
        
          <!-- I.i/ Contexto -->
          <div class="form-subsection">
            <h3>I.i/ Contexto</h3>
        
            <label for="nombreNegocio">El nombre de mi negocio es:</label>
            <input type="text" id="nombreNegocio" placeholder="Ej: Dolcezza, Enigma Medell√≠n...">
        
            <label for="tipoNegocio">Somos un negocio de:</label>
            <input type="text" id="tipoNegocio" placeholder="Ej: belleza, entretenimiento, gastronom√≠a...">
        
            <label>Vendemos:</label><br>
            <label><input type="radio" name="tipoVenta" value="productos"> Productos</label>
            <label><input type="radio" name="tipoVenta" value="servicios"> Servicios</label>
        
            <label for="especializacion">Nuestros <span id="etiquetaTipoVenta">productos/servicios</span> son principalmente:</label>
            <input type="text" id="especializacion" placeholder="Ej: cejas, micropigmentaci√≥n, salas de escape...">
        
            <label>Nuetros clientes son principalmente:</label><br>
            <label><input type="radio" name="tipoCliente" value="mujeres"> Mujeres</label>
            <label><input type="radio" name="tipoCliente" value="hombres"> Hombres</label>
            <label><input type="radio" name="tipoCliente" value="ambos"> Los dos</label>
        
            <label for="ciudad">Trabajamos en la(s) ciudad(es) de:</label>
            <input type="text" id="ciudad" placeholder="Ej: Medell√≠n, Bogot√°, Barranquilla...">
          </div>
        
          <!-- I.ii/ Objetivos -->
          <div class="form-subsection" style="margin-top: 30px;">
            <h3>I.ii/ Objetivos del asistente</h3>
            <p>¬øQu√© quieres que haga tu asistente IA? (selecci√≥n m√∫ltiple)</p>
            <label><input type="checkbox" value="responder dudas frecuentes" class="objetivo"> Responder dudas frecuentes</label><br>
            <label><input type="checkbox" value="vender productos o servicios" class="objetivo"> Vender productos o servicios</label><br>
            <label><input type="checkbox" value="redirigir a un sitio web" class="objetivo"> Redirigir a un sitio web</label><br>
            <label><input type="checkbox" value="recomendar opciones" class="objetivo"> Recomendar opciones</label><br>
            <label><input type="checkbox" value="agendar citas o reservas" class="objetivo"> Agendar citas o reservas</label><br>
            <label><input type="checkbox" value="gestionar pedidos" class="objetivo"> Gestionar pedidos</label><br>
            <label><input type="checkbox" value="otro" id="objetivoOtroChk"> Otro:</label>
            <input type="text" id="objetivoOtroInput" style="display: none;" placeholder="Describe otro objetivo...">
          </div>
        
          <!-- I.iii/ Estilo de comunicaci√≥n -->
          <div class="form-subsection" style="margin-top: 30px;">
            <h3>I.iii/ Estilo de comunicaci√≥n</h3>
            <label for="tono">Tono general del asistente:</label>
            <select id="tono">
              <option value="">Selecciona un tono...</option>
              <option value="profesional">Profesional</option>
              <option value="amigable">Amigable</option>
              <option value="divertido">Divertido</option>
              <option value="juguet√≥n">Juguet√≥n</option>
              <option value="formal">Formal</option>
            </select>
        
            <label for="ejemploEstilo">Ejemplo de estilo de respuesta:</label>
            <textarea id="ejemploEstilo" rows="2" placeholder="Ej: ¬°Claro! Puedes venir con tus amigos y vivir una experiencia inolvidable üî•"></textarea>
          </div>
        
          <button id="siguienteBtn" class="cta-button" style="margin-top: 30px;">
            Siguiente secci√≥n ‚Üí
          </button>
        </section>
        <section id="final-instrucciones" class="form-step" style="display: none;">
          <button class="cta-button" id="generarInstruccionesBtn" style="margin-top: 30px;">
            Generar instrucciones ‚ú®
          </button>
        </section>
      </div>
    </main>

    <footer class="ca-footer">
      &copy; 2025 Comercio AI ‚Äì Todos los derechos reservados.
      <a href="contacto.html">Cont√°ctanos</a>
      <a href="politica-de-privacidad.html" target="_blank">Pol√≠tica de Privacidad</a>
    </footer>
  </div>
  <script>
    // √âtapes du formulaire
    let currentStep = 0;
    const steps = document.querySelectorAll(".form-step");
    const siguienteBtn = document.getElementById("siguienteBtn");
  
    function showStep(index) {
      steps.forEach((step, i) => {
        step.style.display = i === index ? "block" : "none";
      });
    }
  
    // Passage √† l‚Äô√©tape suivante
    siguienteBtn.addEventListener("click", () => {
      currentStep++;
      if (currentStep >= steps.length) currentStep = steps.length - 1;
      showStep(currentStep);
    });
  
    // Libell√© dynamique selon produits/servicios
    document.querySelectorAll('input[name="tipoVenta"]').forEach(radio => {
      radio.addEventListener('change', () => {
        document.getElementById('etiquetaTipoVenta').textContent = radio.value;
      });
    });
  
    // Affichage du champ "otro" dans les objectifs
    const chkOtro = document.getElementById("objetivoOtroChk");
    const inputOtro = document.getElementById("objetivoOtroInput");
    chkOtro.addEventListener("change", () => {
      inputOtro.style.display = chkOtro.checked ? "block" : "none";
    });
  
    // V√©rifie que l'utilisateur est connect√©
    window.addEventListener("DOMContentLoaded", async () => {
      try {
        const res = await fetch("/api/me", { credentials: "include" });
        if (!res.ok) throw new Error("No autenticado");
        const data = await res.json();
        document.getElementById("auth-buttons").innerHTML = `üëã Hola, ${data.name}`;
        showStep(currentStep); // affiche la premi√®re section
      } catch (err) {
        window.location.href = "login.html";
      }
    });
  </script
</body>
</html>
